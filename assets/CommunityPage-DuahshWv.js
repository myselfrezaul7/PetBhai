import{c as W,r as p,j as e,U as S,I as V,R as H,d as Y,T as q,C as Q,S as J,e as X,f as Z,g as ee,V as te,L as B,G as se,M as z}from"./index-DGPMSBAr.js";import{s as ae}from"./authService-C-IkXB5N.js";const le=({onAddPost:t})=>{const{currentUser:u}=W(),[o,c]=p.useState(""),[g,k]=p.useState(null),j=p.useRef(null),v=i=>{if(i.target.files&&i.target.files[0]){const r=i.target.files[0],w=new FileReader;w.onloadend=()=>{k(w.result)},w.readAsDataURL(r)}},y=i=>{if(i.preventDefault(),!o.trim()||!u)return;const r={id:Date.now(),author:{id:u.id,name:u.name,profilePictureUrl:u.profilePictureUrl},content:o,imageUrl:g||void 0,timestamp:new Date().toISOString(),likes:[],comments:[]};t(r),c(""),k(null),j.current&&(j.current.value="")};return e.jsx("div",{className:"glass-card p-6 mb-8",children:e.jsxs("form",{onSubmit:y,children:[e.jsxs("div",{className:"flex items-start space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center flex-shrink-0 overflow-hidden",children:u!=null&&u.profilePictureUrl?e.jsx("img",{src:u.profilePictureUrl,alt:u.name,className:"w-full h-full object-cover"}):e.jsx(S,{className:"w-7 h-7 text-slate-600 dark:text-slate-300"})}),e.jsx("textarea",{value:o,onChange:i=>c(i.target.value),placeholder:`What's on your mind, ${u==null?void 0:u.name.split(" ")[0]}?`,className:"w-full p-3 border border-slate-300/50 dark:border-slate-600/50 bg-white/50 dark:bg-slate-700/50 dark:text-slate-200 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 transition-all duration-300 resize-none",rows:3})]}),g&&e.jsxs("div",{className:"mt-4 pl-4 sm:pl-16 relative",children:[e.jsx("img",{src:g,alt:"Preview",className:"max-h-60 w-full rounded-lg object-cover"}),e.jsx("button",{onClick:()=>k(null),className:"absolute top-2 right-2 bg-black/50 text-white rounded-full h-7 w-7 flex items-center justify-center font-bold text-lg hover:bg-black/80",children:"Ã—"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-4 pl-4 sm:pl-16",children:[e.jsxs("button",{type:"button",onClick:()=>{var i;return(i=j.current)==null?void 0:i.click()},className:"flex items-center space-x-2 text-orange-600 hover:text-orange-800 dark:hover:text-orange-400 font-semibold",children:[e.jsx(V,{className:"w-6 h-6"}),e.jsx("span",{children:"Add Photo"})]}),e.jsx("input",{type:"file",accept:"image/*",ref:j,onChange:v,className:"hidden"}),e.jsx("button",{type:"submit",disabled:!o.trim(),className:"bg-orange-500 text-white font-bold py-2 px-8 rounded-full hover:bg-orange-600 transition-colors disabled:bg-orange-300",children:"Post"})]})]})})},re=({post:t,onUpdatePost:u,onDeletePost:o,onLikePost:c,onLikeComment:g,onLikeReply:k,onAddComment:j,onAddReply:v,onDeleteComment:y,onDeleteReply:i})=>{const{currentUser:r}=W(),w=Y(),[E,D]=p.useState(!1),[R,M]=p.useState(t.content),[I,O]=p.useState(!1),[C,U]=p.useState(""),[T,A]=p.useState(null),[N,$]=p.useState(""),[G,L]=p.useState(!1),s=a=>{const b=Math.floor((new Date().getTime()-new Date(a).getTime())/1e3);let f=b/31536e3;return f>1?Math.floor(f)+"y":(f=b/2592e3,f>1?Math.floor(f)+"mo":(f=b/86400,f>1?Math.floor(f)+"d":(f=b/3600,f>1?Math.floor(f)+"h":(f=b/60,f>1?Math.floor(f)+"m":Math.floor(b)+"s"))))},l=()=>{u(t.id,R),D(!1)},d=a=>{a.preventDefault(),C.trim()&&(j(t.id,C),U(""))},n=(a,b)=>{a.preventDefault(),N.trim()&&(v(t.id,b,N),$(""),A(null))},x=async()=>{const a=window.location.href,b=`Check out this post on PetBhai: "${t.content.substring(0,100)}..."`;if(navigator.share)try{await navigator.share({title:"PetBhai Community Post",text:b,url:a})}catch{}else navigator.clipboard.writeText(`${b}
${a}`),w.success("Link copied to clipboard! ðŸ“‹")},m=(r==null?void 0:r.id)===t.author.id,P=r?t.likes.includes(r.id):!1;return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"glass-card overflow-hidden transition-all duration-300 hover:shadow-xl",children:[e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center flex-shrink-0 overflow-hidden ring-2 ring-white dark:ring-slate-800 shadow-md",children:t.author.profilePictureUrl?e.jsx("img",{src:t.author.profilePictureUrl,alt:t.author.name,className:"w-full h-full object-cover"}):e.jsx(S,{className:"w-7 h-7 text-slate-600 dark:text-slate-300"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-lg hover:text-orange-500 cursor-pointer transition-colors",children:t.author.name}),e.jsxs("p",{className:"text-sm text-slate-500 dark:text-slate-400",children:[s(t.timestamp)," ago"]})]})]}),m&&e.jsxs("div",{className:"flex space-x-2 text-sm",children:[e.jsx("button",{onClick:()=>D(!0),className:"font-semibold text-slate-500 dark:text-slate-400 hover:text-orange-500 dark:hover:text-orange-400 transition-colors px-2 py-1 rounded hover:bg-slate-100 dark:hover:bg-slate-700",children:"Edit"}),e.jsx("button",{onClick:()=>o(t.id),className:"font-semibold text-red-500 hover:text-red-600 transition-colors px-2 py-1 rounded hover:bg-red-50 dark:hover:bg-red-900/20",children:"Delete"})]})]}),E?e.jsxs("div",{children:[e.jsx("textarea",{value:R,onChange:a=>M(a.target.value),className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-xl bg-white/50 dark:bg-slate-700/50 focus:ring-2 focus:ring-orange-500 focus:border-transparent",rows:3}),e.jsxs("div",{className:"flex justify-end space-x-2 mt-3",children:[e.jsx("button",{onClick:()=>D(!1),className:"text-sm font-semibold px-4 py-2 rounded-lg hover:bg-slate-100 dark:hover:bg-slate-700 transition-colors",children:"Cancel"}),e.jsx("button",{onClick:l,className:"text-sm font-bold text-white bg-orange-500 px-4 py-2 rounded-lg hover:bg-orange-600 transition-colors",children:"Save Changes"})]})]}):e.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-base mb-4 whitespace-pre-wrap leading-relaxed",children:t.content})]}),t.imageUrl&&e.jsxs("div",{className:"bg-black/5 dark:bg-black/20 cursor-pointer relative group",onClick:()=>L(!0),children:[e.jsx("img",{src:t.imageUrl,alt:"Post content",className:"w-full max-h-[500px] object-cover transition-transform duration-300 group-hover:scale-[1.01]",loading:"lazy"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/10 transition-colors flex items-center justify-center",children:e.jsx("span",{className:"opacity-0 group-hover:opacity-100 bg-black/50 text-white px-3 py-1 rounded-full text-sm font-medium transition-opacity",children:"Click to expand"})})]}),e.jsxs("div",{className:"px-6 py-3 border-y border-white/20 dark:border-slate-700/50 flex justify-around",children:[e.jsxs("button",{onClick:()=>c(t.id),className:`flex items-center space-x-2 font-semibold transition-all rounded-lg px-4 py-2 ${P?"text-orange-600 dark:text-orange-400 bg-orange-50 dark:bg-orange-900/20":"text-slate-600 dark:text-slate-300 hover:text-orange-600 hover:bg-orange-50/50 dark:hover:bg-slate-700/50"}`,children:[e.jsx(q,{className:`w-5 h-5 transition-transform ${P?"scale-110":""}`}),e.jsxs("span",{children:[t.likes.length>0?t.likes.length:""," Like",t.likes.length!==1?"s":""]})]}),e.jsxs("button",{onClick:()=>O(!I),className:`flex items-center space-x-2 font-semibold transition-colors rounded-lg px-4 py-2 ${I?"text-blue-600 dark:text-blue-400 bg-blue-50 dark:bg-blue-900/20":"text-slate-600 dark:text-slate-300 hover:text-blue-600 hover:bg-blue-50/50 dark:hover:bg-slate-700/50"}`,children:[e.jsx(Q,{className:"w-5 h-5"}),e.jsxs("span",{children:[t.comments.length>0?t.comments.length:""," Comment",t.comments.length!==1?"s":""]})]}),e.jsxs("button",{onClick:x,className:"flex items-center space-x-2 text-slate-600 dark:text-slate-300 hover:text-green-600 font-semibold transition-colors rounded-lg px-4 py-2 hover:bg-green-50/50 dark:hover:bg-slate-700/50",children:[e.jsx("svg",{className:"w-5 h-5",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8.684 13.342C8.886 12.938 9 12.482 9 12c0-.482-.114-.938-.316-1.342m0 2.684a3 3 0 110-2.684m0 2.684l6.632 3.316m-6.632-6l6.632-3.316m0 0a3 3 0 105.367-2.684 3 3 0 00-5.367 2.684zm0 9.316a3 3 0 105.368 2.684 3 3 0 00-5.368-2.684z"})}),e.jsx("span",{children:"Share"})]})]}),I&&e.jsxs("div",{className:"p-6 bg-slate-50/50 dark:bg-slate-800/50",children:[r?e.jsxs("form",{onSubmit:d,className:"flex items-center space-x-3 mb-6",children:[e.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden flex-shrink-0 bg-slate-200 dark:bg-slate-700",children:r.profilePictureUrl?e.jsx("img",{src:r.profilePictureUrl,alt:"You",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(S,{className:"w-5 h-5 text-slate-500"})})}),e.jsx("input",{type:"text",value:C,onChange:a=>U(a.target.value),placeholder:"Write a comment...",className:"flex-1 p-3 border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 rounded-full focus:ring-2 focus:ring-orange-500 focus:border-transparent"}),e.jsx("button",{type:"submit",disabled:!C.trim(),className:"bg-orange-500 text-white rounded-full p-3 hover:bg-orange-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:e.jsx(J,{className:"w-5 h-5"})})]}):e.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 mb-4 py-3 bg-slate-100 dark:bg-slate-700/50 rounded-lg",children:"Please sign in to comment"}),e.jsx("div",{className:"space-y-4",children:t.comments.length===0?e.jsx("p",{className:"text-center text-slate-500 dark:text-slate-400 py-4",children:"No comments yet. Be the first to comment! ðŸ’¬"}):t.comments.map(a=>{const b=r?a.likes.includes(r.id):!1,f=(r==null?void 0:r.id)===a.author.id;return e.jsxs("div",{className:"animate-fade-in",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx("div",{className:"w-9 h-9 rounded-full overflow-hidden flex-shrink-0 bg-slate-200 dark:bg-slate-700",children:a.author.profilePictureUrl?e.jsx("img",{src:a.author.profilePictureUrl,alt:a.author.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(S,{className:"w-4 h-4 text-slate-500"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-white dark:bg-slate-700 p-3 rounded-2xl shadow-sm",children:[e.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-sm",children:a.author.name}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 mt-1",children:a.text})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 ml-2",children:[e.jsxs("button",{onClick:()=>g(t.id,a.id),className:`text-xs font-semibold transition-colors ${b?"text-orange-500":"text-slate-500 dark:text-slate-400 hover:text-orange-500"}`,children:[b?"â¤ï¸":"ðŸ¤"," ",a.likes.length>0&&a.likes.length]}),e.jsx("button",{onClick:()=>A(T===a.id?null:a.id),className:"text-xs font-semibold text-slate-500 dark:text-slate-400 hover:text-blue-500 transition-colors",children:"Reply"}),e.jsx("span",{className:"text-xs text-slate-400",children:a.timestamp?s(a.timestamp):""}),f&&e.jsx("button",{onClick:()=>y(t.id,a.id),className:"text-xs font-semibold text-red-400 hover:text-red-500 transition-colors",children:"Delete"})]})]})]}),a.replies.length>0&&e.jsx("div",{className:"ml-12 mt-3 space-y-3",children:a.replies.map(h=>{const _=r?h.likes.includes(r.id):!1,K=(r==null?void 0:r.id)===h.author.id;return e.jsxs("div",{className:"flex items-start space-x-3 animate-fade-in",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0 bg-slate-200 dark:bg-slate-700",children:h.author.profilePictureUrl?e.jsx("img",{src:h.author.profilePictureUrl,alt:h.author.name,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(S,{className:"w-4 h-4 text-slate-500"})})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"bg-slate-100 dark:bg-slate-600 p-2 rounded-xl",children:[e.jsx("p",{className:"font-bold text-slate-800 dark:text-white text-xs",children:h.author.name}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 text-sm",children:h.text})]}),e.jsxs("div",{className:"flex items-center space-x-4 mt-1 ml-2",children:[e.jsxs("button",{onClick:()=>k(t.id,a.id,h.id),className:`text-xs font-semibold transition-colors ${_?"text-orange-500":"text-slate-400 hover:text-orange-500"}`,children:[_?"â¤ï¸":"ðŸ¤"," ",h.likes.length>0&&h.likes.length]}),e.jsx("span",{className:"text-xs text-slate-400",children:h.timestamp?s(h.timestamp):""}),K&&e.jsx("button",{onClick:()=>i(t.id,a.id,h.id),className:"text-xs font-semibold text-red-400 hover:text-red-500 transition-colors",children:"Delete"})]})]})]},h.id)})}),T===a.id&&r&&e.jsxs("form",{onSubmit:h=>n(h,a.id),className:"flex items-center space-x-3 ml-12 mt-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full overflow-hidden flex-shrink-0 bg-slate-200 dark:bg-slate-700",children:r.profilePictureUrl?e.jsx("img",{src:r.profilePictureUrl,alt:"You",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",children:e.jsx(S,{className:"w-4 h-4 text-slate-500"})})}),e.jsx("input",{type:"text",value:N,onChange:h=>$(h.target.value),placeholder:`Reply to ${a.author.name}...`,className:"flex-1 p-2 border border-slate-200 dark:border-slate-600 bg-white dark:bg-slate-700 rounded-full text-sm focus:ring-2 focus:ring-orange-500",autoFocus:!0}),e.jsx("button",{type:"submit",disabled:!N.trim(),className:"bg-orange-500 text-white rounded-full p-2 hover:bg-orange-600 transition-colors disabled:opacity-50",children:e.jsx(J,{className:"w-4 h-4"})})]})]},a.id)})})]})]}),G&&t.imageUrl&&e.jsxs("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",onClick:()=>L(!1),children:[e.jsx("button",{className:"absolute top-4 right-4 text-white hover:text-orange-400 transition-colors",onClick:()=>L(!1),children:e.jsx(X,{className:"w-8 h-8"})}),e.jsx("img",{src:t.imageUrl,alt:"Post content",className:"max-w-full max-h-[90vh] object-contain rounded-lg",onClick:a=>a.stopPropagation()})]})]})},ne=H.memo(re),F="petbhai_posts",oe=()=>{try{const t=window.localStorage.getItem(F);return t?JSON.parse(t):(window.localStorage.setItem(F,JSON.stringify(z)),z)}catch(t){return console.error("Error reading posts from localStorage",t),z}},ce=()=>{const{isAuthenticated:t,socialLogin:u,currentUser:o}=W(),[c,g]=p.useState(oe),[k,j]=p.useState(!1),[v,y]=p.useState("feed"),i=Y(),{confirm:r}=Z();p.useEffect(()=>{try{window.localStorage.setItem(F,JSON.stringify(c))}catch(s){console.error("Error writing posts to localStorage",s)}},[c]);const w=s=>{g(l=>[s,...l]),i.success("Post shared successfully! ðŸŽ‰")},E=(s,l)=>{g(c.map(d=>d.id===s?{...d,content:l}:d)),i.success("Post updated!")},D=async s=>{await r({title:"Delete Post?",message:"Are you sure you want to delete this post? This action cannot be undone."})&&(g(c.filter(d=>d.id!==s)),i.success("Post deleted successfully."))},R=s=>{if(!o){i.error("Please sign in to like posts");return}g(c.map(l=>{if(l.id===s){const d=l.likes.includes(o.id);return{...l,likes:d?l.likes.filter(n=>n!==o.id):[...l.likes,o.id]}}return l}))},M=(s,l)=>{if(!o){i.error("Please sign in to like comments");return}g(c.map(d=>d.id===s?{...d,comments:d.comments.map(n=>{if(n.id===l){const x=n.likes.includes(o.id);return{...n,likes:x?n.likes.filter(m=>m!==o.id):[...n.likes,o.id]}}return n})}:d))},I=(s,l,d)=>{if(!o){i.error("Please sign in to like replies");return}g(c.map(n=>n.id===s?{...n,comments:n.comments.map(x=>x.id===l?{...x,replies:x.replies.map(m=>{if(m.id===d){const P=m.likes.includes(o.id);return{...m,likes:P?m.likes.filter(a=>a!==o.id):[...m.likes,o.id]}}return m})}:x)}:n))},O=(s,l)=>{if(!o)return;const d={id:Date.now(),author:{id:o.id,name:o.name,profilePictureUrl:o.profilePictureUrl},text:l,replies:[],likes:[],timestamp:new Date().toISOString()};g(c.map(n=>n.id===s?{...n,comments:[...n.comments,d]}:n))},C=(s,l,d)=>{if(!o)return;const n={id:Date.now(),author:{id:o.id,name:o.name,profilePictureUrl:o.profilePictureUrl},text:d,likes:[],timestamp:new Date().toISOString()};g(c.map(x=>x.id===s?{...x,comments:x.comments.map(m=>m.id===l?{...m,replies:[...m.replies,n]}:m)}:x))},U=async(s,l)=>{await r({title:"Delete Comment?",message:"Are you sure you want to delete this comment?"})&&(g(c.map(n=>n.id===s?{...n,comments:n.comments.filter(x=>x.id!==l)}:n)),i.success("Comment deleted."))},T=async(s,l,d)=>{await r({title:"Delete Reply?",message:"Are you sure you want to delete this reply?"})&&(g(c.map(x=>x.id===s?{...x,comments:x.comments.map(m=>m.id===l?{...m,replies:m.replies.filter(P=>P.id!==d)}:m)}:x)),i.success("Reply deleted."))},A=async()=>{j(!0);try{const s=await ae();await u(s),i.success("Welcome to the community! ðŸŽ‰")}catch(s){const l=s instanceof Error?s.message:"An unknown error occurred.";console.error("Google Sign-In failed",s),i.error(`Failed to sign in with Google: ${l}`)}finally{j(!1)}},N=v==="popular"?[...c].sort((s,l)=>l.likes.length-s.likes.length):c,$=c.length,G=c.reduce((s,l)=>s+l.comments.length,0),L=c.reduce((s,l)=>s+l.likes.length,0);return e.jsx("div",{className:"min-h-screen bg-gradient-to-b from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800",children:e.jsxs("div",{className:"container mx-auto px-4 md:px-6 py-8 max-w-4xl animate-fade-in",children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-orange-100 dark:bg-orange-900/30 rounded-full mb-4",children:e.jsx(ee,{className:"w-8 h-8 text-orange-500"})}),e.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-slate-800 dark:text-white mb-3",children:"Community Hub"}),e.jsx("p",{className:"text-lg text-slate-600 dark:text-slate-300 max-w-xl mx-auto",children:"Share pet care tips, product reviews, and connect with fellow pet lovers in Bangladesh."})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-8",children:[e.jsxs("div",{className:"glass-card p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-orange-500",children:$}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Posts"})]}),e.jsxs("div",{className:"glass-card p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-blue-500",children:G}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Comments"})]}),e.jsxs("div",{className:"glass-card p-4 text-center",children:[e.jsx("p",{className:"text-2xl font-bold text-pink-500",children:L}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400",children:"Likes"})]})]}),e.jsxs("div",{className:"glass-card p-6 mb-8 flex flex-col sm:flex-row items-center justify-between gap-4 bg-gradient-to-r from-slate-100 to-orange-50 dark:from-slate-800 dark:to-slate-900 border border-orange-200 dark:border-orange-900/30",children:[e.jsxs("div",{className:"text-center sm:text-left",children:[e.jsxs("h3",{className:"text-xl font-bold text-slate-800 dark:text-white flex items-center justify-center sm:justify-start gap-2",children:[e.jsx(te,{className:"w-6 h-6 text-orange-500"}),"Creator Tools"]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mt-1 text-sm",children:"Starting a pet vlog? Create custom thumbnails instantly."})]}),e.jsx(B,{to:"/thumbnail-generator",className:"whitespace-nowrap px-6 py-2.5 bg-orange-500 text-white font-bold rounded-full hover:bg-orange-600 transition-colors shadow-md",children:"Create Thumbnail"})]}),t?e.jsx(le,{onAddPost:w}):e.jsxs("div",{className:"glass-card p-8 mb-8 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-2",children:"Join the Conversation! ðŸ¾"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300 mb-6",children:"Sign in to share your stories, like posts, and connect with our community."}),e.jsx("div",{className:"space-y-4 max-w-sm mx-auto",children:e.jsxs("button",{onClick:A,disabled:k,className:"w-full flex items-center justify-center space-x-3 py-3 px-4 border border-slate-300 dark:border-slate-500 rounded-lg hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx(se,{className:"w-6 h-6"}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:k?"Signing in...":"Sign in with Google"})]})}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"}),e.jsx("span",{className:"flex-shrink mx-4 text-slate-500 dark:text-slate-400 font-semibold text-sm",children:"OR"}),e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"})]}),e.jsxs("p",{className:"text-slate-600 dark:text-slate-300",children:[e.jsx(B,{to:"/login",className:"font-semibold text-orange-600 hover:underline",children:"Log in with email"})," ","or"," ",e.jsx(B,{to:"/signup",className:"font-semibold text-orange-600 hover:underline",children:"sign up"}),"."]})]}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex space-x-2 bg-slate-200/50 dark:bg-slate-800/50 p-1 rounded-full",children:[e.jsx("button",{onClick:()=>y("feed"),className:`px-6 py-2 rounded-full font-semibold transition-all ${v==="feed"?"bg-white dark:bg-slate-700 text-orange-600 dark:text-orange-400 shadow-md":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:"ðŸ“° Latest"}),e.jsx("button",{onClick:()=>y("popular"),className:`px-6 py-2 rounded-full font-semibold transition-all ${v==="popular"?"bg-white dark:bg-slate-700 text-orange-600 dark:text-orange-400 shadow-md":"text-slate-600 dark:text-slate-400 hover:text-slate-800 dark:hover:text-slate-200"}`,children:"ðŸ”¥ Popular"})]}),e.jsx("button",{onClick:()=>{window.confirm("Reset community data? This will clear your local posts.")&&(window.localStorage.removeItem("petbhai_posts"),window.location.reload())},className:"text-xs text-slate-400 hover:text-red-500 transition-colors",children:"Reset Data"})]}),e.jsx("div",{className:"space-y-6",children:N.length===0?e.jsxs("div",{className:"glass-card p-12 text-center",children:[e.jsx("p",{className:"text-xl font-semibold text-slate-600 dark:text-slate-300 mb-2",children:"No posts yet! ðŸ“"}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400",children:"Be the first to share something with the community."})]}):N.map(s=>e.jsx(ne,{post:s,onUpdatePost:E,onDeletePost:D,onLikePost:R,onLikeComment:M,onLikeReply:I,onAddComment:O,onAddReply:C,onDeleteComment:U,onDeleteReply:T},s.id))})]})})};export{ce as default};
