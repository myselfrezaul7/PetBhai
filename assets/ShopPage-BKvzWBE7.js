import{i as S,r as i,j as e,C as A,k as L,L as M,l as P,u as B,M as w,m as F}from"./index-C_sfBGIb.js";import{P as I}from"./ProductCard-CNFj69_F.js";const z=({product:s,onClose:r})=>{const{addToCart:p,cartItems:d}=S(),[m,c]=i.useState(!1);if(!s)return null;const h=d.find(o=>o.id===s.id),n=h?h.quantity:0,f=()=>{c(!0),p(s),setTimeout(()=>c(!1),800)},u=({rating:o})=>e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((b,g)=>e.jsx("svg",{className:`w-4 h-4 ${g<Math.round(o)?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},g))});return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-[60] flex justify-center items-center p-4 transition-opacity duration-300 animate-fade-in",onClick:r,children:e.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden relative flex flex-col md:flex-row max-h-[90vh] animate-scale-in",onClick:o=>o.stopPropagation(),children:[e.jsx("button",{onClick:r,className:"absolute top-4 right-4 z-20 bg-white/80 dark:bg-black/50 p-2 rounded-full hover:bg-slate-200 dark:hover:bg-slate-700 transition-colors shadow-sm backdrop-blur-md","aria-label":"Close modal",children:e.jsx(A,{className:"w-5 h-5 text-slate-700 dark:text-white"})}),e.jsxs("div",{className:"w-full md:w-1/2 h-64 md:h-auto bg-slate-100 dark:bg-slate-800 relative flex-shrink-0 group",children:[e.jsx("img",{src:s.imageUrl,alt:s.name,className:"absolute inset-0 w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),e.jsx("div",{className:"absolute top-4 left-4 bg-orange-500 text-white text-xs font-bold px-3 py-1 rounded-full shadow-md z-10",children:s.category})]}),e.jsxs("div",{className:"w-full md:w-1/2 flex flex-col p-6 md:p-10 overflow-y-auto",children:[e.jsxs("div",{className:"flex-grow",children:[e.jsx("h2",{className:"text-2xl md:text-3xl font-extrabold text-slate-800 dark:text-white leading-tight mb-2 pr-8",children:s.name}),e.jsxs("div",{className:"flex items-center space-x-3 mb-6",children:[e.jsx(u,{rating:s.rating}),e.jsxs("span",{className:"text-sm font-medium text-slate-500 dark:text-slate-400",children:["(",s.reviews.length," reviews)"]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{className:"text-3xl font-bold text-orange-600 dark:text-orange-400",children:["à§³",s.price]}),e.jsxs("p",{className:"text-sm font-semibold text-slate-500 dark:text-slate-400 mt-1",children:["Weight: ",s.weight]})]}),e.jsx("div",{className:"prose prose-sm dark:prose-invert text-slate-600 dark:text-slate-300 mb-8 leading-relaxed",children:e.jsx("p",{children:s.description})})]}),e.jsxs("div",{className:"pt-6 border-t border-slate-200 dark:border-slate-700 flex flex-col gap-4 mt-auto",children:[e.jsxs("button",{onClick:f,disabled:m,className:`w-full py-3.5 rounded-xl font-bold text-lg flex items-center justify-center space-x-2 transition-all duration-200 shadow-lg
                    ${m?"bg-green-500 text-white scale-95 cursor-default":"bg-orange-500 text-white hover:bg-orange-600 hover:shadow-orange-500/25 active:scale-95 animate-pulse"}`,children:[e.jsx(L,{className:"w-5 h-5"}),e.jsx("span",{children:m?"Added to Cart":n>0?`Add More (${n} in Cart)`:"Add to Cart"})]}),e.jsx(M,{to:`/product/${s.id}`,onClick:r,className:"w-full py-3.5 rounded-xl font-bold text-center border-2 border-slate-200 dark:border-slate-700 text-slate-700 dark:text-slate-200 hover:border-orange-500 hover:text-orange-600 dark:hover:text-orange-400 hover:bg-orange-50 dark:hover:bg-slate-800 transition-colors",children:"View Full Details"})]})]})]})})},$=()=>{var v;const s=P(),[r,p]=i.useState("All"),[d,m]=i.useState(((v=s.state)==null?void 0:v.brand)||"All"),[c,h]=i.useState("default"),[n,f]=i.useState(""),[u,o]=i.useState(null),{products:b}=B(),g=i.useMemo(()=>{let t=[...b];if(n.trim()!==""){const a=n.toLowerCase();t=t.filter(l=>{var j;const k=l.name.toLowerCase().includes(a),N=l.category.toLowerCase().includes(a),y=(j=l.searchTags)==null?void 0:j.some(C=>C.toLowerCase().includes(a));return k||N||y})}if(r!=="All"&&(t=t.filter(a=>a.category===r)),d!=="All"){const a=w.find(l=>l.name===d);a&&(t=t.filter(l=>l.brandId===a.id))}switch(c){case"price-asc":t.sort((a,l)=>a.price-l.price);break;case"price-desc":t.sort((a,l)=>l.price-a.price);break;case"rating-desc":t.sort((a,l)=>l.rating-a.rating);break}return t},[r,d,c,n,b]),x=({filter:t})=>e.jsx("button",{onClick:()=>p(t),className:`px-4 py-2 rounded-full font-semibold transition-all duration-300 text-sm whitespace-nowrap active:scale-95 ${r===t?"bg-orange-500 text-white shadow-lg transform scale-105":"bg-white/50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-200 hover:bg-orange-100/50 dark:hover:bg-slate-600/50"}`,children:t});return e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"container mx-auto px-3 md:px-6 py-12 md:py-16 animate-fade-in",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-center text-slate-800 dark:text-white mb-4",children:"Shop For Your Buddy"}),e.jsx("p",{className:"text-base md:text-lg text-center text-slate-600 dark:text-slate-300 max-w-3xl mx-auto mb-10",children:"Find everything you need to keep your pet happy and healthy, from premium food to fun toys."}),e.jsxs("div",{className:"glass-card p-6 mb-12 space-y-6",children:[e.jsxs("div",{className:"relative max-w-lg mx-auto",children:[e.jsx("span",{className:"absolute inset-y-0 left-0 flex items-center pl-4 pointer-events-none",children:e.jsx(F,{className:"w-5 h-5 text-slate-400 dark:text-slate-500"})}),e.jsx("input",{type:"text",placeholder:"Search products...",value:n,onChange:t=>f(t.target.value),className:"w-full py-3 pl-12 pr-4 text-slate-700 dark:text-slate-200 bg-white/50 dark:bg-slate-800/50 border border-slate-300/50 dark:border-slate-700/50 rounded-full focus:outline-none focus:ring-2 focus:ring-orange-500 transition-all shadow-sm focus:shadow-md","aria-label":"Search products"})]}),e.jsxs("div",{className:"flex flex-wrap items-center justify-center gap-2 md:gap-3",children:[e.jsx(x,{filter:"All"}),e.jsx(x,{filter:"Dog Food"}),e.jsx(x,{filter:"Cat Food"}),e.jsx(x,{filter:"Dog Supplies"}),e.jsx(x,{filter:"Cat Supplies"}),e.jsx(x,{filter:"Grooming"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4 pt-6 border-t border-slate-200 dark:border-slate-700/50",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"brand-filter",className:"font-semibold text-slate-700 dark:text-slate-200",children:"Brand:"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"brand-filter",value:d,onChange:t=>m(t.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white/50 dark:bg-slate-700/50 focus:ring-orange-500 cursor-pointer",children:[e.jsx("option",{value:"All",children:"All Brands"}),w.map(t=>e.jsx("option",{value:t.name,children:t.name},t.id))]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-700 dark:text-slate-300",children:e.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("label",{htmlFor:"sort-by",className:"font-semibold text-slate-700 dark:text-slate-200",children:"Sort by:"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"sort-by",value:c,onChange:t=>h(t.target.value),className:"appearance-none pl-3 pr-8 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white/50 dark:bg-slate-700/50 focus:ring-orange-500 cursor-pointer",children:[e.jsx("option",{value:"default",children:"Default"}),e.jsx("option",{value:"price-asc",children:"Price: Low to High"}),e.jsx("option",{value:"price-desc",children:"Price: High to Low"}),e.jsx("option",{value:"rating-desc",children:"Highest Rated"})]}),e.jsx("div",{className:"pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-slate-700 dark:text-slate-300",children:e.jsx("svg",{className:"fill-current h-4 w-4",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z"})})})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-8",children:g.map(t=>e.jsx(I,{product:t,onQuickView:a=>o(a)},t.id))})]}),u&&e.jsx(z,{product:u,onClose:()=>o(null)})]})};export{$ as default};
