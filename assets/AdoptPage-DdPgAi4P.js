import{R as w,c as A,d as N,r as x,j as e,L as f,H as k,v as y,P as C}from"./index-CQUF4EdN.js";const F=({animal:t})=>{const{isAuthenticated:p,currentUser:n,favoritePet:i,unfavoritePet:m}=A(),o=N(),d=x.useMemo(()=>(n==null?void 0:n.favorites.includes(t.id))??!1,[n,t.id]),a=r=>{if(r.preventDefault(),r.stopPropagation(),!p){o.info("Please log in to favorite pets.");return}d?m(t.id):i(t.id)},c={Available:"bg-green-500/90 text-white",Pending:"bg-yellow-500/90 text-white",Adopted:"bg-slate-500/90 text-white"};return e.jsxs("div",{className:"glass-card group overflow-hidden flex flex-col transform transition-all duration-300 hover:-translate-y-1 hover:shadow-2xl h-full",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-[4/3]",children:[e.jsxs(f,{to:`/adopt/${t.id}`,className:"block h-full",children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-full h-full object-cover transform transition-transform duration-700 ease-out group-hover:scale-110",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/30 transition-colors duration-300 flex items-center justify-center opacity-0 group-hover:opacity-100 hidden sm:flex",children:e.jsx("p",{className:"text-white font-bold tracking-wider border-2 border-white px-4 py-2 rounded-full transform translate-y-4 group-hover:translate-y-0 transition-all duration-300",children:"View Details"})})]}),e.jsx("div",{className:`absolute top-2 left-2 sm:top-3 sm:left-3 px-1.5 py-0.5 sm:px-3 sm:py-1 text-[9px] sm:text-xs font-bold rounded-full backdrop-blur-md shadow-sm ${c[t.status]}`,children:t.status}),e.jsx("button",{onClick:a,className:`absolute top-2 right-2 sm:top-3 sm:right-3 w-7 h-7 sm:w-10 sm:h-10 rounded-full flex items-center justify-center transition-all duration-300 shadow-md hover:scale-110 active:scale-90
                ${d?"bg-red-500 text-white":"bg-white/80 backdrop-blur-md text-slate-600 hover:text-red-500"}`,"aria-label":d?"Unfavorite":"Favorite",children:e.jsx(k,{className:`w-3.5 h-3.5 sm:w-5 sm:h-5 ${d?"fill-current":""}`})})]}),e.jsxs("div",{className:"p-3 sm:p-5 flex flex-col flex-grow",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm sm:text-2xl font-bold text-slate-800 dark:text-white group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:t.name}),e.jsx("p",{className:"text-slate-500 dark:text-slate-400 font-medium text-[10px] sm:text-sm mt-0.5 sm:mt-1 line-clamp-1",children:t.breed})]}),e.jsxs("div",{className:"text-right hidden sm:block",children:[e.jsx("span",{className:"block text-xs font-bold text-slate-400 dark:text-slate-500 uppercase tracking-wide",children:"Age"}),e.jsx("span",{className:"text-sm font-semibold text-slate-700 dark:text-slate-300",children:t.age})]})]}),e.jsxs("div",{className:"mt-1 sm:mt-4 pt-1 sm:pt-4 border-t border-slate-200 dark:border-slate-700/50 flex flex-wrap items-center justify-between text-[10px] sm:text-sm text-slate-600 dark:text-slate-300 gap-1",children:[e.jsx("span",{className:"sm:hidden font-semibold",children:t.age}),e.jsx("span",{className:"sm:hidden text-slate-400",children:"â€¢"}),e.jsx("span",{children:t.gender}),e.jsx("span",{className:"w-1 h-1 bg-slate-400 rounded-full hidden sm:block"}),e.jsx("span",{children:t.size})]}),e.jsx("p",{className:"text-slate-600 dark:text-slate-400 mt-1 sm:mt-4 flex-grow text-[10px] sm:text-sm line-clamp-2 leading-relaxed",children:t.description})]}),e.jsx("div",{className:"p-2 sm:p-4 bg-white/50 dark:bg-black/20 mt-auto border-t border-white/20 dark:border-slate-700/30",children:e.jsxs(f,{to:`/adopt/${t.id}`,className:"w-full text-center block bg-orange-500 text-white font-bold py-1.5 sm:py-3 px-3 sm:px-4 rounded-lg sm:rounded-xl text-xs sm:text-base hover:bg-orange-600 transition-all shadow-md active:scale-95",children:["Meet ",t.name]})})]})},P=w.memo(F),M=()=>{const{animals:t,loading:p,error:n}=y(),[i,m]=x.useState("All"),[o,d]=x.useState("All"),[a,c]=x.useState("All"),[r,h]=x.useState("Available"),g=x.useMemo(()=>t.filter(s=>{const b=i==="All"||i==="Dog"&&(s.breed.toLowerCase().includes("dog")||s.breed.toLowerCase().includes("retriever")||s.breed.toLowerCase().includes("shepherd")||s.breed.toLowerCase().includes("beagle")||s.breed.toLowerCase().includes("labrador"))||i==="Cat"&&(s.breed.toLowerCase().includes("cat")||s.breed.toLowerCase().includes("shorthair")||s.breed.toLowerCase().includes("siamese")),u=o==="All"||s.gender===o,v=a==="All"||s.age===a,j=r==="All"||s.status===r;return b&&u&&v&&j}),[i,o,a,r,t]),l=({label:s,isActive:b,onClick:u})=>e.jsx("button",{onClick:u,className:`px-4 py-2 rounded-full font-semibold transition-colors text-sm whitespace-nowrap ${b?"bg-orange-500 text-white shadow-md":"bg-white/50 dark:bg-slate-700/50 text-slate-600 dark:text-slate-200 hover:bg-orange-100/50 dark:hover:bg-slate-600/50"}`,children:s});return p?e.jsxs("div",{className:"flex justify-center items-center h-96",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-orange-500"}),e.jsx(C,{className:"absolute w-8 h-8 text-orange-500 animate-pulse"})]}):n?e.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Animals"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:n})]}):e.jsxs("div",{className:"container mx-auto px-3 md:px-6 py-12 md:py-16 animate-fade-in",children:[e.jsxs("div",{className:"glass-card p-6 md:p-8 mb-8 md:mb-12",children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-bold text-center text-slate-800 dark:text-white mb-4",children:"Find Your New Best Friend"}),e.jsx("p",{className:"text-base md:text-lg text-center text-slate-700 dark:text-slate-200 max-w-3xl mx-auto",children:"These wonderful animals are waiting for a loving family to call their own. Use the filters to find the perfect match for you."})]}),e.jsx("div",{className:"glass-card p-4 md:p-6 mb-8 md:mb-16 overflow-x-auto",children:e.jsxs("div",{className:"flex flex-col md:grid md:grid-cols-2 lg:grid-cols-4 gap-6 min-w-max md:min-w-0",children:[e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Species"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(l,{label:"All",isActive:i==="All",onClick:()=>m("All")}),e.jsx(l,{label:"Dogs",isActive:i==="Dog",onClick:()=>m("Dog")}),e.jsx(l,{label:"Cats",isActive:i==="Cat",onClick:()=>m("Cat")})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Gender"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(l,{label:"Any",isActive:o==="All",onClick:()=>d("All")}),e.jsx(l,{label:"Male",isActive:o==="Male",onClick:()=>d("Male")}),e.jsx(l,{label:"Female",isActive:o==="Female",onClick:()=>d("Female")})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Age"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(l,{label:"Any",isActive:a==="All",onClick:()=>c("All")}),e.jsx(l,{label:"Puppy/Kitten",isActive:a==="Puppy/Kitten",onClick:()=>c("Puppy/Kitten")}),e.jsx(l,{label:"Young",isActive:a==="Young",onClick:()=>c("Young")}),e.jsx(l,{label:"Adult",isActive:a==="Adult",onClick:()=>c("Adult")}),e.jsx(l,{label:"Senior",isActive:a==="Senior",onClick:()=>c("Senior")})]})]}),e.jsxs("div",{className:"flex flex-col space-y-2",children:[e.jsx("label",{className:"font-bold text-slate-700 dark:text-slate-200",children:"Status"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(l,{label:"Available",isActive:r==="Available",onClick:()=>h("Available")}),e.jsx(l,{label:"Pending",isActive:r==="Pending",onClick:()=>h("Pending")}),e.jsx(l,{label:"Adopted",isActive:r==="Adopted",onClick:()=>h("Adopted")}),e.jsx(l,{label:"All",isActive:r==="All",onClick:()=>h("All")})]})]})]})}),g.length>0?e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3 md:gap-8",children:g.map(s=>e.jsx(P,{animal:s},s.id))}):e.jsx("div",{className:"text-center py-10 glass-card",children:e.jsx("p",{className:"text-xl text-slate-700 dark:text-slate-200",children:"No animals match your current filters."})})]})};export{M as default};
