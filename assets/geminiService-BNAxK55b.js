const i="/api",g=async r=>{try{const e=await fetch(`${i}/ai/generate-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({prompt:r})});if(!e.ok){const a=await e.json();throw new Error(a.error||"Failed to generate image")}return(await e.json()).imageUrl}catch(e){throw console.error("Error generating image:",e),new Error("Failed to generate the image. Please try again later.")}},l=async(r,e,o)=>{try{const a=await fetch(`${i}/ai/generate-thumbnail`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({title:r,subject:e,mood:o})});if(!a.ok){const t=await a.json();throw new Error(t.error||"Failed to generate thumbnail")}return(await a.json()).imageUrl}catch(a){throw console.error("Error generating thumbnail:",a),a}},d=async r=>{try{const o=(await new Promise((t,c)=>{const s=new FileReader;s.onloadend=()=>t(s.result),s.onerror=c,s.readAsDataURL(r)})).split(",")[1],a=r.type,n=await fetch(`${i}/ai/analyze-image`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({mimeType:a,data:o})});if(!n.ok){const t=await n.json();throw new Error(t.error||"Failed to analyze image")}return await n.json()}catch(e){throw console.error("Error analyzing image:",e),e}};export{d as a,l as b,g};
