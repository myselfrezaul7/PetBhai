import{r as t,c as y,h as k,j as e,G as N,L as S}from"./index-DGPMSBAr.js";import{s as L}from"./authService-C-IkXB5N.js";const C=()=>{const[n,b]=t.useState(""),[l,h]=t.useState(""),[o,f]=t.useState(""),[r,s]=t.useState(""),[d,c]=t.useState(!1),[i,u]=t.useState(!1),{signup:p,socialLogin:v}=y(),g=k(),w=async a=>{if(a.preventDefault(),s(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){s("Please enter a valid email address.");return}if(o.length<6){s("Password must be at least 6 characters long.");return}c(!0);try{await p(n,l,o),g("/community")}catch(x){s(x instanceof Error?x.message:"An unknown error occurred.")}finally{c(!1)}},j=async()=>{u(!0),s("");try{const a=await L();await v(a),g("/community")}catch(a){console.error("Google Sign-In failed",a);const m=a instanceof Error?a.message:"Failed to sign in with Google. Please try again.";s(m)}finally{u(!1)}};return e.jsx("div",{className:"container mx-auto px-6 py-12 flex-grow flex items-center justify-center animate-fade-in",children:e.jsxs("div",{className:"w-full max-w-md glass-card p-8 md:p-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-slate-800 dark:text-white mb-6",children:"Join Our Community"}),r&&e.jsx("p",{id:"auth-error",role:"alert",className:"bg-red-100/80 text-red-800 dark:bg-red-500/30 dark:text-red-200 p-3 rounded-lg text-center mb-6",children:r}),e.jsx("div",{className:"space-y-3",children:e.jsxs("button",{onClick:j,disabled:i,className:"w-full flex items-center justify-center space-x-3 py-3 px-4 border border-slate-300 dark:border-slate-500 rounded-lg hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx(N,{className:"w-6 h-6"}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:i?"Signing up...":"Sign up with Google"})]})}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"}),e.jsx("span",{className:"flex-shrink mx-4 text-slate-500 dark:text-slate-400 font-semibold text-sm",children:"OR"}),e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"})]}),e.jsxs("form",{onSubmit:w,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"name",className:"block text-base font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Full Name"}),e.jsx("input",{type:"text",id:"name",value:n,onChange:a=>b(a.target.value),required:!0,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white/50 dark:bg-slate-700/50","aria-required":"true","aria-invalid":!!r,"aria-describedby":r?"auth-error":void 0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:l,onChange:a=>h(a.target.value),required:!0,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white/50 dark:bg-slate-700/50","aria-required":"true","aria-invalid":!!r,"aria-describedby":r?"auth-error":void 0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-base font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:o,onChange:a=>f(a.target.value),required:!0,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white/50 dark:bg-slate-700/50","aria-required":"true","aria-invalid":!!r,"aria-describedby":r?"auth-error":void 0})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:d||i,className:"w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-lg text-lg hover:bg-orange-600 transition-colors disabled:bg-orange-300",children:d?"Creating Account...":"Sign Up with Email"})})]}),e.jsxs("p",{className:"text-center mt-6 text-slate-600 dark:text-slate-300",children:["Already have an account?"," ",e.jsx(S,{to:"/login",className:"font-bold text-orange-600 hover:underline",children:"Log in"})]})]})})};export{C as default};
