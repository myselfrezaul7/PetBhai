import{r as i,j as e,e as u,n as f,p as N,P as k,L as v,V as g,q as p}from"./index-DGPMSBAr.js";const w=({vet:r,isOpen:o,onClose:m})=>{const[l,t]=i.useState(1),[d,n]=i.useState(""),[c,s]=i.useState("");if(!o)return null;const b=a=>{n(a),t(2)},x=a=>{a.preventDefault(),c.trim()&&t(3)},h=()=>{m(),setTimeout(()=>{t(1),n(""),s("")},300)},j=["10:00 AM","11:00 AM","02:00 PM","03:00 PM","04:00 PM"];return e.jsx("div",{className:"fixed inset-0 bg-black/70 backdrop-blur-sm z-50 flex justify-center items-center p-4 transition-opacity duration-300 animate-fade-in",onClick:h,children:e.jsx("div",{className:"glass-card w-full max-w-lg max-h-[90vh] overflow-y-auto",onClick:a=>a.stopPropagation(),children:e.jsxs("div",{className:"p-8",children:[e.jsxs("div",{className:"flex justify-between items-start mb-4",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"Book Online Consultation"}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-200 text-lg mt-1",children:["with ",e.jsx("span",{className:"font-bold text-slate-800 dark:text-white",children:r.name})]})]}),e.jsx("button",{onClick:h,className:"text-slate-500 hover:text-slate-800 dark:hover:text-slate-200",children:e.jsx(u,{className:"w-7 h-7"})})]}),l===1&&e.jsxs("div",{children:[e.jsx("h3",{className:"text-xl font-semibold text-slate-700 dark:text-slate-200 mb-4",children:"Select an available time for today:"}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:j.map(a=>e.jsx("button",{onClick:()=>b(a),className:"p-3 text-center font-semibold bg-orange-100/50 dark:bg-orange-500/20 text-orange-700 dark:text-orange-200 rounded-lg hover:bg-orange-500 hover:text-white transition-colors",children:a},a))})]}),l===2&&e.jsxs("form",{onSubmit:x,children:[e.jsxs("p",{className:"text-slate-600 dark:text-slate-300 mb-4",children:["You have selected: ",e.jsx("span",{className:"font-bold",children:d})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"issue",className:"block text-base font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Briefly describe your pet's issue:"}),e.jsx("textarea",{id:"issue",rows:4,value:c,onChange:a=>s(a.target.value),required:!0,placeholder:"e.g., My dog is lethargic and not eating.",className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 bg-white/50 dark:bg-slate-700/50"})]}),e.jsxs("div",{className:"flex justify-between items-center mt-6",children:[e.jsx("button",{type:"button",onClick:()=>t(1),className:"text-sm font-semibold text-slate-600 dark:text-slate-300 hover:underline",children:"Back to time selection"}),e.jsx("button",{type:"submit",className:"bg-orange-500 text-white font-bold py-2 px-6 rounded-lg hover:bg-orange-600",children:"Proceed to Confirmation"})]})]}),l===3&&e.jsxs("div",{className:"text-center",children:[e.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 text-green-500 mx-auto mb-4",viewBox:"0 0 20 20",fill:"currentColor",children:e.jsx("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),e.jsx("h3",{className:"text-2xl font-bold text-slate-800 dark:text-white",children:"Booking Confirmed!"}),e.jsxs("p",{className:"text-slate-700 dark:text-slate-200 mt-2",children:["Your online consultation with ",r.name," is scheduled for"," ",e.jsxs("strong",{children:[d," today"]}),"."]}),e.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-4",children:"You will receive an email confirmation with a video call link shortly. (This is a demo)."}),e.jsx("button",{onClick:h,className:"mt-6 bg-orange-500 text-white font-bold py-2 px-8 rounded-lg hover:bg-orange-600",children:"Close"})]})]})})})},C=()=>{const{id:r}=f(),{vets:o,loading:m,error:l}=N(),t=i.useMemo(()=>o.find(s=>s.id===Number(r)),[r,o]),[d,n]=i.useState(!1);if(m)return e.jsxs("div",{className:"flex justify-center items-center h-96",children:[e.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-orange-500"}),e.jsx(k,{className:"absolute w-8 h-8 text-orange-500 animate-pulse"})]});if(l)return e.jsxs("div",{className:"container mx-auto px-6 py-16 text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Error Loading Vet"}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:l})]});if(!t)return e.jsx("div",{className:"text-center py-20 animate-fade-in container mx-auto px-6",children:e.jsxs("div",{className:"glass-card p-12",children:[e.jsx("h1",{className:"text-3xl font-bold text-slate-800 dark:text-white",children:"Veterinarian not found!"}),e.jsx("p",{className:"text-slate-700 dark:text-slate-200 mt-4",children:"The vet you are looking for might not be in our network or the link is incorrect."}),e.jsx(v,{to:"/services",className:"mt-8 inline-block bg-orange-500 text-white font-bold py-3 px-8 rounded-full text-lg hover:bg-orange-600 transition-colors",children:"Back to Services Page"})]})});const c=({rating:s})=>e.jsx("div",{className:"flex items-center",children:[...Array(5)].map((b,x)=>e.jsx("svg",{className:`w-5 h-5 ${x<Math.round(s)?"text-yellow-400":"text-slate-300 dark:text-slate-600"}`,fill:"currentColor",viewBox:"0 0 20 20",children:e.jsx("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},x))});return e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"container mx-auto px-4 py-12 animate-fade-in",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"glass-card p-8 flex flex-col sm:flex-row items-center sm:items-start text-center sm:text-left gap-8",children:[e.jsx("img",{src:t.imageUrl,alt:t.name,className:"w-40 h-40 rounded-full object-cover ring-4 ring-orange-500/30 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl font-bold text-slate-800 dark:text-white",children:t.name}),e.jsx("p",{className:"text-xl font-semibold text-orange-600 dark:text-orange-400 mt-1",children:t.specialization}),e.jsx("div",{className:"flex flex-wrap justify-center sm:justify-start gap-x-4 gap-y-1 mt-3 text-slate-600 dark:text-slate-300",children:t.qualifications.map(s=>e.jsx("span",{children:s},s))}),e.jsx("a",{href:`tel:${t.phone}`,className:"inline-block mt-4 bg-slate-200/50 dark:bg-slate-700/50 px-4 py-2 rounded-full font-semibold hover:bg-slate-300/50",children:t.phone})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8 mt-8",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-8",children:[e.jsxs("div",{className:"glass-card p-8",children:[e.jsxs("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:["About Dr. ",t.name.split(" ").pop()]}),e.jsx("p",{className:"text-slate-700 dark:text-slate-300 leading-relaxed whitespace-pre-wrap",children:t.bio})]}),e.jsxs("div",{className:"glass-card p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4",children:"Services"}),e.jsx("ul",{className:"space-y-3",children:t.services.map(s=>e.jsxs("li",{className:"flex justify-between items-center p-3 bg-slate-100/50 dark:bg-slate-800/50 rounded-lg",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[s.type==="online"?e.jsx(g,{className:"w-5 h-5 text-orange-500"}):e.jsx(p,{className:"w-5 h-5 text-orange-500"}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:s.name})]}),e.jsxs("span",{className:"font-bold text-slate-800 dark:text-white",children:["à§³",s.price]})]},s.name))})]}),e.jsxs("div",{className:"glass-card p-8",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-6",children:"Patient Reviews"}),t.reviews.length>0?e.jsx("div",{className:"space-y-6",children:t.reviews.map(s=>e.jsxs("div",{className:"border-b border-white/20 dark:border-slate-700/50 pb-4 last:border-b-0 last:pb-0",children:[e.jsxs("div",{className:"flex items-center mb-1",children:[e.jsx(c,{rating:s.rating}),e.jsx("p",{className:"ml-3 font-bold text-slate-700 dark:text-slate-200",children:s.author})]}),e.jsx("p",{className:"text-sm text-slate-500 dark:text-slate-400 mb-2",children:new Date(s.date).toLocaleDateString()}),e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:s.comment})]},s.id))}):e.jsx("p",{className:"text-slate-600 dark:text-slate-300",children:"No reviews yet for this veterinarian."})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsxs("div",{className:"glass-card p-6 sticky top-24",children:[e.jsx("h2",{className:"text-2xl font-bold text-slate-800 dark:text-white mb-4 text-center",children:"Book a Consultation"}),e.jsx("p",{className:"text-center text-slate-600 dark:text-slate-300 text-sm mb-5",children:"Book through PetBhai to connect with trusted vets instantly."}),e.jsxs("button",{onClick:()=>n(!0),disabled:t.availability==="Offline",className:"w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-lg text-lg hover:bg-orange-600 transition-colors disabled:bg-slate-400 disabled:cursor-not-allowed flex items-center justify-center space-x-2",children:[e.jsx(g,{className:"w-6 h-6"}),e.jsx("span",{children:"Book Online Now"})]}),e.jsxs("div",{className:"flex items-center my-4",children:[e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"}),e.jsx("span",{className:"flex-shrink mx-2 text-slate-500 dark:text-slate-400 font-semibold text-xs",children:"OR"}),e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"})]}),e.jsxs("div",{className:"text-center",children:[e.jsx("h3",{className:"font-bold text-slate-700 dark:text-slate-200",children:t.clinicName}),e.jsxs("p",{className:"text-sm text-slate-600 dark:text-slate-300 mt-1 flex items-start space-x-2",children:[e.jsx(p,{className:"w-4 h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{children:t.address})]}),e.jsx("a",{href:`tel:${t.phone}`,className:"mt-3 inline-block w-full bg-slate-200/50 dark:bg-slate-700/50 px-4 py-2 rounded-full font-semibold hover:bg-slate-300/50",children:"Call Clinic"})]})]})})]})]})}),e.jsx(w,{vet:t,isOpen:d,onClose:()=>n(!1)})]})};export{C as default};
