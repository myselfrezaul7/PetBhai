import{r as t,c as j,h as v,j as e,G as k,L as y}from"./index-DGPMSBAr.js";import{s as N}from"./authService-C-IkXB5N.js";const E=()=>{const[l,u]=t.useState(""),[i,b]=t.useState(""),[s,r]=t.useState(""),[n,d]=t.useState(!1),[o,c]=t.useState(!1),{login:h,socialLogin:f}=j(),g=v(),p=async a=>{if(a.preventDefault(),r(""),!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(l)){r("Please enter a valid email address.");return}d(!0);try{await h(l,i),g("/community")}catch(x){r(x instanceof Error?x.message:"An unknown error occurred.")}finally{d(!1)}},w=async()=>{c(!0),r("");try{const a=await N();await f(a),g("/community")}catch(a){console.error("Google Sign-In failed",a);const m=a instanceof Error?a.message:"Failed to sign in with Google. Please try again.";r(m)}finally{c(!1)}};return e.jsx("div",{className:"container mx-auto px-6 py-12 flex-grow flex items-center justify-center animate-fade-in",children:e.jsxs("div",{className:"w-full max-w-md glass-card p-8 md:p-10",children:[e.jsx("h1",{className:"text-3xl font-bold text-center text-slate-800 dark:text-white mb-6",children:"Welcome Back!"}),s&&e.jsx("p",{id:"auth-error",role:"alert",className:"bg-red-100/80 text-red-800 dark:bg-red-500/30 dark:text-red-200 p-3 rounded-lg text-center mb-6",children:s}),e.jsx("div",{className:"space-y-3",children:e.jsxs("button",{onClick:w,disabled:o,className:"w-full flex items-center justify-center space-x-3 py-3 px-4 border border-slate-300 dark:border-slate-500 rounded-lg hover:bg-slate-50/50 dark:hover:bg-slate-700/50 transition-colors disabled:opacity-60 disabled:cursor-not-allowed",children:[e.jsx(k,{className:"w-6 h-6"}),e.jsx("span",{className:"font-semibold text-slate-700 dark:text-slate-200",children:o?"Signing in...":"Sign in with Google"})]})}),e.jsxs("div",{className:"flex items-center my-6",children:[e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"}),e.jsx("span",{className:"flex-shrink mx-4 text-slate-500 dark:text-slate-400 font-semibold text-sm",children:"OR"}),e.jsx("div",{className:"flex-grow border-t border-slate-300 dark:border-slate-600"})]}),e.jsxs("form",{onSubmit:p,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{htmlFor:"email",className:"block text-base font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Email Address"}),e.jsx("input",{type:"email",id:"email",value:l,onChange:a=>u(a.target.value),required:!0,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white/50 dark:bg-slate-700/50","aria-required":"true","aria-invalid":!!s,"aria-describedby":s?"auth-error":void 0})]}),e.jsxs("div",{children:[e.jsx("label",{htmlFor:"password",className:"block text-base font-semibold text-slate-700 dark:text-slate-200 mb-2",children:"Password"}),e.jsx("input",{type:"password",id:"password",value:i,onChange:a=>b(a.target.value),required:!0,className:"w-full p-3 border border-slate-300 dark:border-slate-600 rounded-lg focus:ring-2 focus:ring-orange-500 focus:border-orange-500 bg-white/50 dark:bg-slate-700/50","aria-required":"true","aria-invalid":!!s,"aria-describedby":s?"auth-error":void 0})]}),e.jsx("div",{children:e.jsx("button",{type:"submit",disabled:n||o,className:"w-full bg-orange-500 text-white font-bold py-3 px-4 rounded-lg text-lg hover:bg-orange-600 transition-colors disabled:bg-orange-300",children:n?"Logging in...":"Login with Email"})})]}),e.jsxs("p",{className:"text-center mt-6 text-slate-600 dark:text-slate-300",children:["Don't have an account?"," ",e.jsx(y,{to:"/signup",className:"font-bold text-orange-600 hover:underline",children:"Sign up now"})]})]})})};export{E as default};
